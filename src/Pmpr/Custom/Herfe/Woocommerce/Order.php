<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             694c8544e8d35             |
    |_______________________________________|
*/
 namespace Pmpr\Custom\Herfe\Woocommerce; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Custom\Herfe\Container; use WC_Order; class Order extends Container { const eskcyegwccqukqwc = 'address'; const amiowykoqsoouaoy = 'postcode'; const kkaykqkgqamgowqg = 'customer_note'; public function wigskegsqequoeks() { $this->qcsmikeggeemccuu('admin_init', [$this, 'enqueue']); } public function kgquecmsgcouyaya() { $this->cecaguuoecmccuse('woocommerce_admin_billing_fields', [$this, 'smyyegykwgqieuwy'], 10, 2)->cecaguuoecmccuse('woocommerce_order_get_billing_phone', [$this, 'cyeyycmeekgeweio'], 10, 2); $this->cecaguuoecmccuse('woocommerce_analytics_orders_select_query', [$this, 'wyuemkaqwqswaamk'])->cecaguuoecmccuse('woocommerce_report_orders_export_columns', [$this, 'gisyyokwieuqmkyk'])->cecaguuoecmccuse('woocommerce_report_orders_prepare_export_item', [$this, 'waygeawmyyysscke'], 10, 2); } public function smyyegykwgqieuwy($ikgwqyuyckaewsow, $umwqusowiqmyseom) : array { if ($umwqusowiqmyseom instanceof WC_Order) { $imeacwqcauqwssam = [Constants::memskaacyikisggk]; foreach ($imeacwqcauqwssam as $aiowsaccomcoikus) { $qgciuiagkkguykgs = "get_billing_{$aiowsaccomcoikus}"; if (method_exists($umwqusowiqmyseom, $qgciuiagkkguykgs)) { $kscmqsacueqcoqeo = $umwqusowiqmyseom->{$qgciuiagkkguykgs}('edit'); if (empty($kscmqsacueqcoqeo)) { $ikgwqyuyckaewsow[$aiowsaccomcoikus][Constants::ciyoccqkiamemcmm] = $umwqusowiqmyseom->{$qgciuiagkkguykgs}(); } } } } return $ikgwqyuyckaewsow; } public function cyeyycmeekgeweio($eqgoocgaqwqcimie, $umwqusowiqmyseom) { if ($this->uwkmaywceaaaigwo()->owicscwgeuqcqaig()->goecwaaykqoaaagg() || $this->caokeucsksukesyo()->owicscwgeuqcqaig()->gimisysaiasieees()) { if (empty($eqgoocgaqwqcimie) && $umwqusowiqmyseom instanceof WC_Order) { $eqgoocgaqwqcimie = $this->caokeucsksukesyo()->issssuygyewuaswa()->igawqaomowicuayw('billing_phone', $umwqusowiqmyseom->get_customer_id()); } } return $eqgoocgaqwqcimie; } public function wyuemkaqwqswaamk($qeiakyocuggicwsy) { if ($qeiakyocuggicwsy && isset($qeiakyocuggicwsy->data) && !empty($qeiakyocuggicwsy->data)) { foreach ($qeiakyocuggicwsy->data as $uusmaiomayssaecw => $sogksuscggsicmac) { $wkkweuacukumqmya = $this->ggumkaqwyqkoawkw(); $aqauykcugwiqkumq = $this->caokeucsksukesyo()->mmmcswscsiecscwg(); foreach ($wkkweuacukumqmya as $qgoqiacsiccwoawi => $meqocwsecsywiiqs) { if ($umwqusowiqmyseom = $aqauykcugwiqkumq->get($sogksuscggsicmac[Constants::geykusaewkemcasi] ?? 0)) { $eqgoocgaqwqcimie = ''; switch ($qgoqiacsiccwoawi) { case Constants::memskaacyikisggk: $eqgoocgaqwqcimie = $umwqusowiqmyseom->get_billing_phone(); break; case self::eskcyegwccqukqwc: $eqgoocgaqwqcimie = str_replace(['<br/>', '<br>'], ', ', $umwqusowiqmyseom->get_formatted_billing_address()); break; case self::amiowykoqsoouaoy: $eqgoocgaqwqcimie = $umwqusowiqmyseom->get_billing_postcode(); break; case self::kkaykqkgqamgowqg: $eqgoocgaqwqcimie = $umwqusowiqmyseom->get_customer_note(); break; } $qeiakyocuggicwsy->data[$uusmaiomayssaecw][$qgoqiacsiccwoawi] = $eqgoocgaqwqcimie; } } } } return $qeiakyocuggicwsy; } public function waygeawmyyysscke($ggymuqgwmuoeosws, $igqsaukqcqscimok) { $wkkweuacukumqmya = $this->ggumkaqwyqkoawkw(); foreach ($wkkweuacukumqmya as $qgoqiacsiccwoawi => $meqocwsecsywiiqs) { $ggymuqgwmuoeosws[$qgoqiacsiccwoawi] = $igqsaukqcqscimok[$qgoqiacsiccwoawi] ?? ''; } return $ggymuqgwmuoeosws; } public function gisyyokwieuqmkyk($wkkweuacukumqmya) : array { return $this->ggumkaqwyqkoawkw($wkkweuacukumqmya); } public function ggumkaqwyqkoawkw(array $wkkweuacukumqmya = []) : array { $wkkweuacukumqmya[Constants::memskaacyikisggk] = __('Phone', PR__CST__HERFE); $wkkweuacukumqmya[self::eskcyegwccqukqwc] = __('Address', PR__CST__HERFE); $wkkweuacukumqmya[self::amiowykoqsoouaoy] = __('Postcode', PR__CST__HERFE); $wkkweuacukumqmya[self::kkaykqkgqamgowqg] = __('Customer Note', PR__CST__HERFE); return $wkkweuacukumqmya; } public function enqueue() { $meakksicouekcgoe = $this->caokeucsksukesyo()->usugyumcgeaaowsi(); $meakksicouekcgoe->qeqgammgesiwiysc($meakksicouekcgoe->owygwqwawqoiusis($this, 'analytics', 'analytics.js')->ayuciigykaswwqeo('wp-hooks')->okawmmwsiuauwsiu())->wwmusmkkcwsiciou($this, 'analytics', ['extra_columns' => $this->ggumkaqwyqkoawkw()]); } }
